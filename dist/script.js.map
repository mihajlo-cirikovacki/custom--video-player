{"version":3,"names":[],"mappings":"","sources":["script.js"],"sourcesContent":["'use strict';\r\n\r\nconst videoContainer = document.querySelector('.video-container');\r\nconst video = document.querySelector('.video');\r\nconst play = document.querySelector('.controls__play');\r\nconst stop = document.querySelector('.controls__stop');\r\nconst progress = document.querySelector('.progress-bar');\r\nconst timestamp = document.querySelector('.time__timestamp');\r\nconst timestampFullTime = document.querySelector('.time__timestamp--full');\r\nconst volume = document.querySelector('.controls__volume');\r\nconst volumeProgress = document.querySelector('.controls__volume-input');\r\nconst fullScreen = document.querySelector('.controls__full-screen');\r\nconst timeBox = document.querySelector('.time-box');\r\n\r\n// ================= FUNCTIONS:\r\n\r\n// Play & pause video:\r\nconst toggleVideoStatus = function() {\r\n  if(video.paused) video.play(); \r\n  else video.pause();\r\n}\r\n\r\n// Update play/pause icon:\r\nconst updatePlayIcon = function() {\r\n  const playBtn = `<ion-icon name=\"play\"></ion-icon>`;\r\n  const pauseBtn = `<ion-icon name=\"pause\"></ion-icon>`;\r\n  if(video.paused) play.innerHTML = playBtn;\r\n  else play.innerHTML = pauseBtn;\r\n}\r\n\r\n// Update progress & timestamp:\r\nconst updateProgress = function() {\r\n  progress.value = (video.currentTime / video.duration ) * 100;\r\n\r\n  // Get min:\r\n  let mins = Math.trunc(video.currentTime / 60);\r\n  if (mins < 10) mins = '0' + mins;\r\n\r\n  // Get sek:\r\n  let sec = Math.trunc(video.currentTime % 60);\r\n  if (sec < 10) sec = '0' + sec;\r\n\r\n  // Update timeStemp:\r\n  timestamp.textContent = `${mins}:${sec}`;\r\n\r\n  let min = Math.trunc(video.duration / 60);\r\n  if (min < 10) min = '0' + min;\r\n\r\n  let secFull = Math.trunc(video.duration % 60);\r\n  if (secFull < 10) secFull = '0' + secFull;\r\n\r\n  // Set full time:\r\n  timestampFullTime.textContent = `${min}:${secFull}`;\r\n}\r\n\r\n// Set video time to progress:\r\nconst setVideoProgress = function() {\r\n  video.currentTime = (+progress.value * video.duration) / 100;\r\n}\r\n\r\n// Stop video:\r\nconst stopVideo = function() {\r\n  video.currentTime = 0;\r\n  video.pause();\r\n}\r\n\r\n// ================= EVENT LISTENERS:\r\n// VIDEO:\r\nvideo.addEventListener('click', toggleVideoStatus);\r\nvideo.addEventListener('pause', updatePlayIcon);\r\nvideo.addEventListener('play', updatePlayIcon);\r\nvideo.addEventListener('timeupdate', updateProgress);\r\n// BUTTONS:\r\nplay.addEventListener('click', toggleVideoStatus);\r\nstop.addEventListener('click', stopVideo);\r\nprogress.addEventListener('click', setVideoProgress);\r\n\r\nvolume.addEventListener('click', (e) => {\r\n  // Check:\r\n  video.muted = !video.muted;\r\n  // Check and set icon:\r\n  if(video.muted) { \r\n    volume.innerHTML = '<ion-icon name=\"volume-mute\"></ion-icon>'; \r\n    volumeProgress.value = '0';\r\n  }else {\r\n    volume.innerHTML = '<ion-icon name=\"volume-high\"></ion-icon>';\r\n    volumeProgress.value = '100';\r\n  };\r\n});\r\n\r\nfullScreen.addEventListener('click', (e) => {\r\n  if (document.fullscreenElement) {\r\n    document.exitFullscreen();\r\n    fullScreen.innerHTML = '<ion-icon name=\"expand\"></ion-icon>';\r\n  } else if (document.webkitFullscreenElement) {\r\n    // Need this to support Safari\r\n    document.webkitExitFullscreen();\r\n  } else if (videoContainer.webkitRequestFullscreen) {\r\n    // Need this to support Safari\r\n    videoContainer.webkitRequestFullscreen();\r\n  } else {\r\n    videoContainer.requestFullscreen();\r\n    fullScreen.innerHTML = '<ion-icon name=\"contract\"></ion-icon>';\r\n  }\r\n})\r\n\r\n// Set volume:\r\nvolumeProgress.addEventListener('mousemove', (e) => {\r\n  video.volume = e.target.value;\r\n  // Check value and change volume icon:\r\n  if(e.target.value === '0') volume.innerHTML = '<ion-icon name=\"volume-off\"></ion-icon>';\r\n  \r\n  if(e.target.value >= '0.01' && e.target.value <= '0.49' ) volume.innerHTML = '<ion-icon name=\"volume-low\"></ion-icon>';\r\n  if(e.target.value >= '0.50' && e.target.value <= '0.70' ) volume.innerHTML = '<ion-icon name=\"volume-medium\"></ion-icon>';\r\n  if(e.target.value === '1' ) volume.innerHTML = '<ion-icon name=\"volume-high\"></ion-icon>';\r\n})\r\n\r\n// Set playback rates:\r\ntimeBox.addEventListener('click', (e) => {\r\n  const timeRatesBox = timeBox.querySelector('.time-play-back-rates');\r\n  if(timeRatesBox.style.display === 'none') timeRatesBox.style.display = \"flex\";\r\n    else  timeRatesBox.style.display = \"none\";\r\n\r\n  const timeSpeed = e.target.closest('.time__speed');\r\n  if(!timeSpeed) return;\r\n  // Set playback rate:\r\n  video.playbackRate = +timeSpeed.textContent;\r\n  const speed = timeBox.querySelector('.time__speed-default');\r\n  speed.textContent = timeSpeed.textContent;\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"script.js"}